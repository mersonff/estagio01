<ui:composition template="/WEB-INF/templates/template-operador.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="corpo">

		<h:form id="form">

			<p:growl id="msgs" showDetail="true" />

			<p:dataTable id="dataTable" var="baciloscopia"
				value="#{baciloscopiaBean.baciloscopias}"
				widgetVar="baciloscopiasTable"
				emptyMessage="Nenhum exame encontrado com esses critérios."
				filteredValue="#{baciloscopiaBean.filteredBaciloscopias}">

				<f:facet name="header">
					<p:outputPanel>
						<h:outputText value="Procurar em todos os campos:" />
						<p:inputText id="globalFilter"
							onkeyup="baciloscopiasTable.filter()" style="width:150px" />
					</p:outputPanel>
				</f:facet>

				<p:column id="numeroSusColumn"
					filterBy="#{baciloscopia.paciente.numeroSus}" headerText="SUS"
					filterMatchMode="startsWith">
					<h:outputText value="#{baciloscopia.paciente.numeroSus}" />
				</p:column>

				<p:column id="nomeColumn" filterBy="#{baciloscopia.paciente.nome}"
					headerText="Nome" footerText="startsWith">
					<h:outputText value="#{baciloscopia.paciente.nome}" />
				</p:column>

				<p:column id="dataPedidoColumn"
					filterBy="#{baciloscopia.dataPedido}" headerText="Nome"
					footerText="startsWith">
					<h:outputText value="#{baciloscopia.dataPedido}">
						<f:convertDateTime type="date" locale="pt_BR" dateStyle="medium" />
					</h:outputText>
				</p:column>

				<p:column id="statusColumn" filterBy="#{baciloscopia.status}"
					headerText="Status" footerText="exact"
					filterOptions="#{exameBean.statusOptions}" filterMatchMode="exact">
					<h:outputText value="#{baciloscopia.status}" />
				</p:column>

				<p:column style="width:4%">
					<p:commandButton id="selectButton" update=":form:display"
						oncomplete="resultadoDialog.show()" icon="ui-icon-search"
						title="View">
						<f:setPropertyActionListener value="#{baciloscopia}"
							target="#{baciloscopiaBean.baciloscopia}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:dialog header="Dados do Pedido" widgetVar="resultadoDialog"
				resizable="false" id="resultDlg" showEffect="fade"
				hideEffect="explode" modal="true">

				<p:scrollPanel style="width:820px;height:500px" scrollMode="native">

					<h:panelGrid id="display" cellpadding="4">

						<h:inputHidden id="idExame"
							value="#{baciloscopiaBean.baciloscopia.idExame}"
							style="font-weight:bold" />

						<h:inputHidden id="numeroSus"
							value="#{baciloscopiaBean.baciloscopia.paciente.numeroSus}"
							style="font-weight:bold" />

						<f:facet name="header">
							<h:outputText
								value="Pedidode #{baciloscopiaBean.baciloscopia.nomeTipo}" />
						</f:facet>

						<h:panelGrid columns="2" cellpadding="4">

							<h:outputText value="Unidade de Saúde: " />
							<p:inputText
								value="#{baciloscopiaBean.baciloscopia.unidadeDeSaude}"
								style="font-weight:bold" disabled="true" size="62" />
						</h:panelGrid>

						<h:panelGrid columns="4" cellpadding="4">
							<h:outputText value="Nome: " />
							<p:inputText
								value="#{baciloscopiaBean.baciloscopia.paciente.nome}"
								style="font-weight:bold" disabled="true" size="37" />

							<h:outputText value="Data de Nascimento:" />
							<p:inputText id="dataNascimento"
								value="#{baciloscopiaBean.baciloscopia.paciente.dataNascimento}"
								style="font-weight:bold" disabled="true" size="10">
								<f:convertDateTime type="date" locale="pt_BR" dateStyle="medium" />
							</p:inputText>
						</h:panelGrid>

						<h:panelGrid cellpadding="4" columns="6">

							<h:outputText value="Prontuário:" />
							<p:inputText id="prontuario"
								value="#{baciloscopiaBean.baciloscopia.prontuario}"
								style="font-weight:bold" disabled="true" />

							<h:outputText value="Data de Solicitação:" />
							<p:inputText value="#{baciloscopiaBean.baciloscopia.dataPedido}"
								style="font-weight:bold" disabled="true" size="10">
								<f:convertDateTime type="date" locale="pt_BR" dateStyle="medium" />
							</p:inputText>

							<h:outputText value="Sexo:" />
							<p:inputText id="sexo"
								value="#{baciloscopiaBean.baciloscopia.paciente.sexo}"
								style="font-weight:bold" disabled="true" size="1" />

						</h:panelGrid>

						<h:panelGrid cellpadding="4" columns="4">

							<h:outputText value="Endereço:" />
							<p:inputText id="endereco"
								value="#{baciloscopiaBean.baciloscopia.paciente.endereco}"
								style="font-weight:bold" disabled="true" size="35" />

							<h:outputText value="Município:" />
							<p:inputText id="municipio"
								value="#{baciloscopiaBean.baciloscopia.paciente.localidade}"
								style="font-weight:bold" disabled="true" size="18" />
						</h:panelGrid>

						<h:panelGrid cellpadding="4" columns="4">
							<h:outputText value="Material Clínico:" />
							<p:inputTextarea id="materialClinico"
								value="#{baciloscopiaBean.baciloscopia.materialClinico}"
								style="font-weight:bold" disabled="true" rows="3" cols="28" />

							<h:outputText value="Outros:" />
							<p:inputTextarea id="outros"
								value="#{baciloscopiaBean.baciloscopia.outros}"
								style="font-weight:bold" disabled="true" rows="3" cols="28" />
						</h:panelGrid>

						<h:panelGrid cellpadding="4" columns="8">
							<h:outputLabel for="diagnostico" value="Diagnóstico: " />
							<p:selectBooleanCheckbox id="diagnostico"
								value="#{baciloscopiaBean.baciloscopia.diagnostico}"
								disabled="true" />

							<h:outputText value="Amostra:" />
							<p:inputText id="numeroDaAmostra"
								value="#{baciloscopiaBean.baciloscopia.numeroDaAmostra}"
								style="font-weight:bold" disabled="true" size="1" />

							<h:outputLabel for="controleDeTratamento"
								value="Controle de Tratamento: " />
							<p:selectBooleanCheckbox id="controleDeTratamento"
								value="#{baciloscopiaBean.baciloscopia.controleDeTratamento}"
								disabled="true" />

							<h:outputText value="Mês da Amostra:" />
							<p:inputText id="mesDaAmostra"
								value="#{baciloscopiaBean.baciloscopia.mesDaAmostra}"
								style="font-weight:bold" disabled="true" size="1" />
						</h:panelGrid>

					</h:panelGrid>
				</p:scrollPanel>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>